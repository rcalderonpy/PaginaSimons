<?php

namespace ContabilidadBundle\Repository;

/**
 * VentaSinRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class VentaSinRepository extends \Doctrine\ORM\EntityRepository
{
    public function getIVA10($ii10)
    {
        $iva10=round(($ii10/11),0);
        return $iva10;
    }

    public function filtrarVentas($opciones=array(
        'cliente'=>0
    ))
    {
        $em=$this->getEntityManager();

        $query=$em->createQueryBuilder()
            ->select('v')
            ->from('ContabilidadBundle:VentaSin', 'v')
            ->Where("v.cliente = :cliente")
            ->setParameter('cliente', $opciones['cliente'])
            ->orderBy('v.fecha', 'ASC')
            ->getQuery();

        $ventas=$query->getResult();
        return $ventas;
    }
}
